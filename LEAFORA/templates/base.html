<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>
      {% block title %}
        LEAFORA
      {% endblock %}
    </title>

    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}" />
  </head>
  <body>
    <!-- ================= NAVBAR ================= -->
    <nav class="navbar">
      <div class="container">
        <div class="nav-left">
          <a href="{{ url_for('home') }}"><img src="{{ url_for('static', filename='images/logo.png') }}" class="logo" alt="Logo" /></a>
        </div>

        <ul class="nav-right">
          <li>
            <a href="{{ url_for('home') }}">HOME</a>
          </li>
          <li>
            <a href="{{ url_for('books') }}">BOOKS</a>
          </li>
          <li>
            <a href="{{ url_for('profile') }}">PROFILE</a>
          </li>

          {% if session.get('role') in ['admin', 'super_admin'] %}
            <li>
              <a href="{{ url_for('admin') }}" class="admin-link">ADMIN</a>
            </li>
          {% endif %}

          <li>
            <a href="{{ url_for('contact') }}">CONTACT</a>
          </li>
          <!-- Auth Button -->
          {% if session.get('user_id') %}
            <li>
              <a href="{{ url_for('logout') }}" id="authBtn" class="btn">LOGOUT</a>
            </li>
          {% else %}
            <li>
              <a href="{{ url_for('login') }}" id="authBtn" class="btn">LOGIN</a>
            </li>
          {% endif %}
        </ul>
      </div>
    </nav>

    <!-- ================= FLASH MESSAGES ================= -->
    <div class="flash-container">
      {% with messages=get_flashed_messages(with_categories=true) %}
        {% if messages %}
          {% for category, message in messages %}
            <div class="flash flash-{{ category }}">
              <span class="flash-icon">
                {% if category == 'success' %}
                  üóπ
                {% elif category == 'error' or category == 'danger' %}
                  ‚òí
                {% elif category == 'info' %}
                  «É
                {% else %}
                  ‚òÅ
                {% endif %}
              </span>
              <span class="flash-message">{{ message }}</span>
              <span class="flash-close" onclick="this.parentElement.style.display='none';">&times;</span>
            </div>
          {% endfor %}
        {% endif %}
      {% endwith %}
    </div>

    <!-- ================= MAIN CONTENT ================= -->
    <main>
      {% block content %}
      {% endblock %}
    </main>

    <!-- ================= FOOTER ================= -->
    <footer class="footer">
      <div class="container footer-content">
        <div class="footer-brand">
          <a href="{{ url_for('home') }}"><img src="{{ url_for('static', filename='images/logo2.png') }}" class="logo" alt="Logo" /></a>
          <p>Share Books. Share Knowledge. Save Nature.</p>
        </div>

        <div class="footer-links">
          <h4>Quick Links</h4>
          <ul>
            <li>
              <a href="{{ url_for('home') }}">Home</a>
            </li>
            <li>
              <a href="{{ url_for('books') }}">Books</a>
            </li>
            <li>
              <a href="{{ url_for('profile') }}">Profile</a>
            </li>
          </ul>
        </div>

        <div class="footer-contact">
          <h4>Contact</h4>
          <p>Email: support@leafora.com</p>
          <p>Phone: +880 1234-567890</p>
        </div>
      </div>

      <div class="footer-bottom">
        <p>¬© 2025 LEAFORA. All rights reserved.</p>
      </div>
    </footer>

    <script src="{{ url_for('static', filename='js/main.js') }}"></script>
  </body>
</html>
